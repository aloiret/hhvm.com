---
author: joelp
layout: post
title: 'HHVM: The Next Six Months'
category: blog
permalink: /blog/3743/hhvm-the-next-six-months
comments:
- id: 3023
  author: Vincent DM
  author_email: maps@vent.be
  author_url: ''
  date: '2014-02-25 04:41:37 +0000'
  date_gmt: '2014-02-25 12:41:37 +0000'
  content: |-
    First of all, thanks for building this great software. I'm eager to start using it, but the major obstacle for me right now is debugging. I don't find the existing debug tool very convenient. Would it be possible to make it compatible with XDebug's API? that way, I could continue using existing tools like PHPStorm.

    Thanks!
- id: 3029
  author: Oli
  author_email: os@fortrabbit.com
  author_url: http://fortrabbit.com
  date: '2014-02-25 14:24:56 +0000'
  date_gmt: '2014-02-25 22:24:56 +0000'
  content: |-
    Impressive Roadmap!
    Thank you for this huge open source engagement.
- id: 3035
  author: Christopher Svanefalk
  author_email: christopher.svanefalk@gmail.com
  author_url: http://www.csvanefalk.com
  date: '2014-02-25 14:41:35 +0000'
  date_gmt: '2014-02-25 22:41:35 +0000'
  content: Hard to put into words how awesome you guys are, it's going to be extremely
    exciting to see how the project moves forward the coming months! If you ever come
    to Gothenburg - I am buying you all a round of our local brew if you want it.
    You have it in writing!
- id: 3041
  author: Evert
  author_email: me@evertpot.com
  author_url: http://evertpot.com/
  date: '2014-02-25 15:09:49 +0000'
  date_gmt: '2014-02-25 23:09:49 +0000'
  content: Maybe also find a better name for 'Hack' ;)
- id: 3047
  author: Daniel Urich
  author_email: durich@gmail.com
  author_url: ''
  date: '2014-02-25 16:57:40 +0000'
  date_gmt: '2014-02-26 00:57:40 +0000'
  content: Hope you include other database support like Oracle.
- id: 3053
  author: Kapil
  author_email: kapv89@gmail.com
  author_url: ''
  date: '2014-02-26 10:44:32 +0000'
  date_gmt: '2014-02-26 18:44:32 +0000'
  content: Documentation for 'Hack' .. its  a "game changer" of sorts, IMO
- id: 3059
  author: Brett
  author_email: brett.thomas@gmail.com
  author_url: ''
  date: '2014-02-26 13:55:02 +0000'
  date_gmt: '2014-02-26 21:55:02 +0000'
  content: I have to agree about finding a better name for 'Hack'.  Trying to google
    something like 'hack php' or any other similar phrase grabs a completely unrelated
    set of results as you could guess.
- id: 3065
  author: Michael
  author_email: nomadhacker@gmail.com
  author_url: http://nomadhacker.com
  date: '2014-02-27 09:48:05 +0000'
  date_gmt: '2014-02-27 17:48:05 +0000'
  content: "Why a better name for 'hack'?  It's descriptive of their intent.  \n\nThanks
    for the roadmap.  It's good to get some planning messages like this to give some
    community confidence in the project.  Really rooting for this project to help
    boost PHP!"
- id: 3071
  author: The new PHP - Programming - O'Reilly Media
  author_email: ''
  author_url: http://programming.oreilly.com/2014/03/the-new-php.html
  date: '2014-03-04 04:00:57 +0000'
  date_gmt: '2014-03-04 12:00:57 +0000'
  content: "[&#8230;] already works with the twenty most popular PHP frameworks, and
    it recently announced a development roadmap for the next six months. Keep an eye
    on HHVM. I have a feeling it will drastically change the PHP [&#8230;]"
- id: 3077
  author: The new PHP | Matias Vangsnes
  author_email: ''
  author_url: http://www.matiasvangsnes.com/nginx/the-new-php/
  date: '2014-03-04 10:30:33 +0000'
  date_gmt: '2014-03-04 18:30:33 +0000'
  content: "[&#8230;] have 100% unit test pass for the top twenty PHP frameworks,
    and it recently announced a development roadmap for the next six months. Keep
    an eye on HHVM. I have a feeling it will drastically change the PHP [&#8230;]"
- id: 3083
  author: Codigolinea &raquo; El nuevo PHP
  author_email: ''
  author_url: http://codigolinea.com/2014/03/05/el-nuevo-php/
  date: '2014-03-05 07:12:09 +0000'
  date_gmt: '2014-03-05 15:12:09 +0000'
  content: "[&#8230;] unitarios de los veinte primeros frameworks PHP, se anunci&oacute;
    recientemente el desarrollo de una hoja de ruta para los pr&oacute;ximos seis
    meses. Mantenga un ojo en HHVM. Tengo la sensaci&oacute;n de que va a cambiar
    [&#8230;]"
- id: 3089
  author: 新的PHP | 腊八粥
  author_email: ''
  author_url: http://www.labazhou.net/2014/03/the-new-php/
  date: '2014-03-06 23:55:45 +0000'
  date_gmt: '2014-03-07 07:55:45 +0000'
  content: "[&#8230;] Facebook也在它的另类开源PHP引擎 HipHop Virtual Machine（HHVM）上做了多项改进。HHVM使用一种即时编译技术来提供令人难以置信的性能，无论PHP开发者习惯哪个版本，都易于使用。和PHP
    Zend Engine一样，HHVM也包括FastCGI支持。HHVM在2014年早期的目标是通过前20个PHP框架的100%的单元测试，它最近宣布了未来6个月的开发路线图。要留意HHVM。我有个感觉，在接下来的几年里它将在PHP领域产生深远的影响。
    [&#8230;]"
- id: 3095
  author: 'Debug Room #5 - Debug Tizen en solo | Debug Room'
  author_email: ''
  author_url: http://www.debugroom.fr/debug-room-5-debug-tizen-en-solo
  date: '2014-03-17 16:40:36 +0000'
  date_gmt: '2014-03-17 23:40:36 +0000'
  content: "[&#8230;] Le planning des six prochains mois pour HHVM [&#8230;]"
- id: 3479
  author: 赵伊凡&#8217;s blog：Facebook推出编程语言&mdash;&mdash;Hack | 赵伊凡&#039;s Blog
  author_email: ''
  author_url: http://irfen.me/irfen-facebook-hack/
  date: '2014-03-21 07:37:27 +0000'
  date_gmt: '2014-03-21 14:37:27 +0000'
  content: "[&#8230;] HHVM仍然是一个PHP运行平台，我们打算继续保持这种方式。事实上，我们正努力达到PHP-5的标准。其中HHVM的首要任务是能够运行未经修改的PHP
    5的源代码，不仅是为了社区，也因为我们依赖许多第三方PHP底层库。 HHVM现在是一个能同时运行PHP和Hack的平台，所以你可以逐渐体验Hack所带来的新特性。
    [&#8230;]"
- id: 3791
  author: 'Hack: a new programming language for HHVM | artisticbird'
  author_email: ''
  author_url: http://artisticbird.com/hack-a-new-programming-language-for-hhvm/
  date: '2014-03-22 01:50:42 +0000'
  date_gmt: '2014-03-22 08:50:42 +0000'
  content: "[&#8230;] is still a PHP runtime, and we&nbsp;intend to keep it that way.
    In fact, we are working hard to&nbsp;reach parity with PHP-5. One of HHVM&#8217;s
    top priorities is to [&#8230;]"
- id: 17363
  author: Sami Onur Zaim
  author_email: onurzaim@hotmail.com
  author_url: http://www.turkiyeyasaka.com
  date: '2014-04-05 17:43:49 +0000'
  date_gmt: '2014-04-06 00:43:49 +0000'
  content: I am looking forward to use Joomla with Hhvm. So far I am not able to pass
    final installation screen because of 'mbstring.language = neutral' requirment
    in .htaccess file. Also compiled hhvm 3.0 packages on Centos would be nice.
- id: 39731
  author: Dwayne Lafleur
  author_email: dwayne@ezoic.com
  author_url: ''
  date: '2014-04-25 07:20:18 +0000'
  date_gmt: '2014-04-25 14:20:18 +0000'
  content: The big obstacle for us using for most of our development is it's lack
    of XDEBUG or DBG support.  We really need to be able to have similar debugging
    capabilities as other languages or the changes that reduce errors in the codebase
    are counteracted by lack of proper debugging support.
- id: 180917
  author: The new PHP - O'Reilly Radar
  author_email: ''
  author_url: http://radar.oreilly.com/2014/03/the-new-php.html
  date: '2014-06-19 16:19:48 +0000'
  date_gmt: '2014-06-19 23:19:48 +0000'
  content: "[&#8230;] have 100% unit test pass for the top twenty PHP frameworks,
    and it recently announced a development roadmap for the next six months. Keep
    an eye on HHVM. I have a feeling it will drastically change the PHP [&#8230;]"
---

The HHVM team has just wrapped up its planning for the first half of 2014. We’d like to share our plans, providing you a bit of context.

**2014 Themes:**

  * Open Source


  * Increase Web Efficiency


  * Make HHVM Hackable


<!--truncate-->

**Open Source goals:**

  * Increase community participation and adoption


    * [20+ top PHP frameworks have 100% unit tests passing](http://www.hhvm.com/blog/875/wow-hhvm-is-fast-too-bad-it-doesnt-run-my-code)


    * Support two major HHVM deployments


    * Encourage and accept 1+ significant new feature implementation (e.g., new and improved garbage collector).





  * Move to open development


    * Figure out a way to have all non-Facebook specific HHVM development done in the open.





[We’ve been making steady progress on HHVM’s compatibility](http://www.hhvm.com/blog/2813/we-are-the-98-5-and-the-16) with PHP in the wild, but we still have a lot of work ahead of us. We’re using unit test pass rates as a proxy for success measurement, but you can help by [adding HHVM to your Travis configuration](http://www.hhvm.com/blog/2393/hhvm-2-3-0-and-travis-ci), and reporting bugs and issues through [GitHub](https://github.com/facebook/hhvm). We are resourced to help support a couple of major HHVM deployments, which we hope has the side effect of exposing us to "non-Facebook" deployment and maintenance challenges.

We are also going to push for a more open development model, with the goal of increasing our community participation. We’ll have more to say on what this means later on. Stay tuned!

**Increase Web Efficiency:**




  * Further CPU time reduction


    * JIT improvements (including region compiler work)


    * HHBBC (HH bytecode-to-bytecode compiler)


    * Code and data layout optimizations


    * [Lockdown improvements](http://www.hhvm.com/blog/1499/locking-down-for-performance-and-parity)





  * Reduce Memory


    * Memory bandwidth reductions


    * Working set reductions


    * Ship a memory profiler





  * ARM64


    * 25% bytecode coverage on simulator





  * Prototype LLVM integration


We’ve set very aggressive efficiency goals for the half that we hope to achieve through a range of [JIT compiler](http://www.hhvm.com/blog/2027/faster-and-cheaper-the-evolution-of-the-hhvm-jit) projects. We hope these translate into wins for a variety of PHP workloads. We’re shooting for wins via the region compiler project, which is a compilation strategy that stitches together multiple basic blocks into larger chunks of code. This means that the current optimization passes we have in place can do a better job at identifying and exploiting optimization opportunities.

HHBBC (HipHop Bytecode to Bytecode compiler) is essentially a redesign and reimplementation of something we already have: a type inference pass. Right now we do type inference during the AST (Abstract Syntax Tree) generation phase, but we think we can do a better job of this at the bytecode level while giving us option value to augment bytecode with richer type information through tooling and offline static analysis. Having more type information on hand means generating faster and more specific code -- it’s like "peering in to a dynamic program, and pulling out its static equivalent".

We’re also planning on really knuckling down on memory consumption: both total working set and memory bandwidth usage. Reducing both will inevitably give us CPU time wins (a lot of our CPU time is spent waiting for memory requests) and will allow us to deploy to servers with a smaller memory footprint. All requests start with a fresh heap, add and subtract to it over the lifetime of the request, and then throw it away. As we increase RPS (inevitable side-effect of better quality code generation) we also increase bandwidth pressure on the memory subsystem. We want to make sure that the memory bus does not become a bottleneck.

**Hackable HHVM:**




  * "Hackers guide to HHVM" 50% complete


  * Reduce complexity in `[hphp/compiler](https://github.com/facebook/hhvm/tree/master/hphp/compiler)`


  * [100% conversion to HNI extension interface](https://github.com/facebook/hhvm/issues/1480)


  * Remove legacy tracelet compiler features (analyzer/translator, HHBC guard relaxation, etc.)


Hackable HHVM really means "move faster". We want to ship better documentation to help you guys (and it really helps us too…) get hacking on HHVM. One significant part of the “Hackable HHVM” theme is moving all of our internal extensions over to the [HNI interface](https://github.com/facebook/hhvm/blob/master/hphp/runtime/vm/native.h) which is a super fast lightweight way of building extensions for HHVM.

**An Exciting Road:**



![The Road Ahead](/static/images/posts/curved-road1.png)



Clearly it's going to be a big half in terms of technical agenda, and probably our biggest in terms of open source engagement. We’ll be attending conferences, shipping code, getting faster and having fun this year.

Please continue your awesome effort of [using](https://github.com/facebook/hhvm/wiki#wiki-installing-pre-built-packages-for-hhvm) and [contributing](https://github.com/facebook/hhvm#contributing) to HHVM, and discussing all things HHVM on IRC at [#hhvm](http://webchat.freenode.net/?channels=hhvm). We looking forward to having you join us for the ride in 2014 and beyond.
